import{S as De,i as Be,n as Ee,j as N,k as U,l as W,f as b,m as S,a as V,d as I,g as ze,b as Ce,t as O,R as Ft,q as fe,s as G,w as F,r as ge,c as H,x as D,ae as ue,O as A,y as B,_ as te,u as Me,z as E,as as oe,Q as Fe,af as qe,o as St,C as Dt,at as _e,ac as R,ai as z,aj as C,W as Je,X as Qe,Y as Xe,Z as Ye,e as He,a6 as Bt,ap as Et,N as Rt,a2 as K}from"../../../chunks/singletons-54206af0.js";import{al as Pt,F as Ge,V as Ae,U as zt,O as Ct,am as Re,ab as Vt,E as Gt,f as Ze,an as Ht,t as Nt,K as Ke,X as xe,Y as et,Z as tt,_ as nt,$ as it,a0 as ot,a1 as st,L as lt,G as rt,a2 as ut,v as at,a3 as ft,a4 as gt,q as pt,w as mt,a5 as dt,a6 as _t}from"../../../chunks/format-page-title-2ec229d3.js";import{P as Tt,F as ye,q as Ut,r as Lt,M as At,s as jt,t as qt}from"../../../chunks/merged-header-icon-f43ceb7d.js";import{a as yt,r as Wt}from"../../../chunks/theme-option-fbb9d515.js";import{d as Jt}from"../../../chunks/utils-87ab534e.js";import{s as ct}from"../../../chunks/storage-c0963857.js";import{w as Qt}from"../../../chunks/dialog-manager-6307dd27.js";function ht(t,e,n){const o=t.slice();return o[3]=e[n],o}function bt(t){let e,n=t[3].text+"",o,s,u,i,r,l,f,_;u=new Pt({});function h(){return t[2](t[3])}return{c(){e=N("button"),o=fe(n),s=G(),F(u.$$.fragment),i=G(),this.h()},l(c){e=U(c,"BUTTON",{class:!0,style:!0});var v=W(e);o=ge(v,n),s=H(v),D(u.$$.fragment,v),i=H(v),v.forEach(b),this.h()},h(){S(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),S(e,"style",r=$t(t[3].style)),ue(e,"border-4",t[3].thickBorders&&t[3].id===t[0]),ue(e,"border-blue-300",t[3].id===t[0]),ue(e,"bg-gray-700",t[3].id===t[0]),ue(e,"text-white",t[3].id===t[0]),ue(e,"bg-white",t[3].id!==t[0])},m(c,v){V(c,e,v),A(e,o),A(e,s),B(u,e,null),A(e,i),l=!0,f||(_=te(e,"click",h),f=!0)},p(c,v){t=c,(!l||v&2)&&n!==(n=t[3].text+"")&&Me(o,n),(!l||v&2&&r!==(r=$t(t[3].style)))&&S(e,"style",r),(!l||v&3)&&ue(e,"border-4",t[3].thickBorders&&t[3].id===t[0]),(!l||v&3)&&ue(e,"border-blue-300",t[3].id===t[0]),(!l||v&3)&&ue(e,"bg-gray-700",t[3].id===t[0]),(!l||v&3)&&ue(e,"text-white",t[3].id===t[0]),(!l||v&3)&&ue(e,"bg-white",t[3].id!==t[0])},i(c){l||(I(u.$$.fragment,c),l=!0)},o(c){O(u.$$.fragment,c),l=!1},d(c){c&&b(e),E(u),f=!1,_()}}}function Xt(t){let e,n,o=t[1],s=[];for(let i=0;i<o.length;i+=1)s[i]=bt(ht(t,o,i));const u=i=>O(s[i],1,1,()=>{s[i]=null});return{c(){e=N("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=U(i,"DIV",{class:!0});var r=W(e);for(let l=0;l<s.length;l+=1)s[l].l(r);r.forEach(b),this.h()},h(){S(e,"class","-m-1")},m(i,r){V(i,e,r);for(let l=0;l<s.length;l+=1)s[l].m(e,null);n=!0},p(i,[r]){if(r&3){o=i[1];let l;for(l=0;l<o.length;l+=1){const f=ht(i,o,l);s[l]?(s[l].p(f,r),I(s[l],1)):(s[l]=bt(f),s[l].c(),I(s[l],1),s[l].m(e,null))}for(ze(),l=o.length;l<s.length;l+=1)u(l);Ce()}},i(i){if(!n){for(let r=0;r<o.length;r+=1)I(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)O(s[r]);n=!1},d(i){i&&b(e),Ft(s,i)}}}function $t(t){return t?Object.entries(t).map(([e,n])=>`${e}: ${n}`).join(";"):""}function Yt(t,e,n){let{options:o}=e,{selectedOptionId:s}=e;const u=i=>n(0,s=i.id);return t.$$set=i=>{"options"in i&&n(1,o=i.options),"selectedOptionId"in i&&n(0,s=i.selectedOptionId)},[s,o,u]}class pe extends De{constructor(e){super(),Be(this,e,Yt,Xt,Ee,{options:1,selectedOptionId:0})}}function Zt(t){let e,n,o,s,u,i,r,l,f,_,h,c,v,$,T,M,k;return{c(){e=N("div"),n=fe(t[1]),o=fe("% - "),s=fe(t[4]),u=fe("px"),i=G(),r=N("input"),l=G(),f=N("div"),_=N("button"),h=fe(t[5]),c=fe("%"),v=G(),$=N("button"),T=fe("50%"),this.h()},l(w){e=U(w,"DIV",{class:!0});var P=W(e);n=ge(P,t[1]),o=ge(P,"% - "),s=ge(P,t[4]),u=ge(P,"px"),P.forEach(b),i=H(w),r=U(w,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),l=H(w),f=U(w,"DIV",{class:!0});var L=W(f);_=U(L,"BUTTON",{});var j=W(_);h=ge(j,t[5]),c=ge(j,"%"),j.forEach(b),v=H(L),$=U(L,"BUTTON",{});var y=W($);T=ge(y,"50%"),y.forEach(b),L.forEach(b),this.h()},h(){S(e,"class","text-center"),S(r,"class","mb-2 mt-4"),S(r,"type","range"),S(r,"step",je),S(r,"min",t[3]),S(r,"max",t[2]),S(f,"class","flex justify-evenly")},m(w,P){V(w,e,P),A(e,n),A(e,o),A(e,s),A(e,u),V(w,i,P),V(w,r,P),oe(r,t[1]),V(w,l,P),V(w,f,P),A(f,_),A(_,h),A(_,c),A(f,v),A(f,$),A($,T),M||(k=[te(r,"change",t[9]),te(r,"input",t[9]),te(r,"change",t[10]),te(_,"click",t[11]),te($,"click",t[12])],M=!0)},p(w,[P]){P&2&&Me(n,w[1]),P&16&&Me(s,w[4]),P&8&&S(r,"min",w[3]),P&4&&S(r,"max",w[2]),P&2&&oe(r,w[1]),P&32&&Me(h,w[5])},i:Fe,o:Fe,d(w){w&&b(e),w&&b(i),w&&b(r),w&&b(l),w&&b(f),M=!1,qe(k)}}}const je=5;function Kt(t,e,n){let o,s,u,i,{dimensionValue:r=0}=e,{isVertical:l=!0}=e,{isFirstDimension:f=!1}=e,_=0;function h(){return l?f?"innerWidth":"innerHeight":f?"innerHeight":"innerWidth"}async function c(k=0){n(1,_=k),await Dt(),n(0,r=o)}St(()=>{const k=Math.min(Math.max(Math.round(r*(f?2:1)/window[h()]*100),!f&&!r?u:s),u);c(Math.round(k/je)*je)});function v(){_=_e(this.value),n(1,_)}const $=()=>n(0,r=o),T=()=>c(i),M=()=>c(50);return t.$$set=k=>{"dimensionValue"in k&&n(0,r=k.dimensionValue),"isVertical"in k&&n(7,l=k.isVertical),"isFirstDimension"in k&&n(8,f=k.isFirstDimension)},t.$$.update=()=>{t.$$.dirty&258&&n(4,o=Math.ceil(window[h()]*(_/100/(f?2:1)))),t.$$.dirty&256&&n(3,s=f?5:50),t.$$.dirty&256&&n(2,u=f?50:95),t.$$.dirty&256&&n(5,i=f?25:75)},[r,_,u,s,o,i,c,l,f,v,$,T,M]}class xt extends De{constructor(e){super(),Be(this,e,Kt,Zt,Ee,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function en(t){let e,n;return e=new ye({props:{icon:Ut,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),n=!0},p:Fe,i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){E(e,o)}}}function tn(t){let e,n,o;function s(i){t[3](i)}let u={slot:"content",isFirstDimension:t[1],isVertical:t[2]};return t[0]!==void 0&&(u.dimensionValue=t[0]),e=new xt({props:u}),R.push(()=>z(e,"dimensionValue",s,t[0])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};r&2&&(l.isFirstDimension=i[1]),r&4&&(l.isVertical=i[2]),!n&&r&1&&(n=!0,l.dimensionValue=i[0],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function nn(t){let e,n;return e=new Tt({props:{$$slots:{content:[tn],icon:[en]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),n=!0},p(o,[s]){const u={};s&23&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){E(e,o)}}}function on(t,e,n){let{isFirstDimension:o=!1}=e,{isVertical:s=!1}=e,{dimensionValue:u=0}=e;function i(r){u=r,n(0,u)}return t.$$set=r=>{"isFirstDimension"in r&&n(1,o=r.isFirstDimension),"isVertical"in r&&n(2,s=r.isVertical),"dimensionValue"in r&&n(0,u=r.dimensionValue)},[u,o,s,i]}class Mt extends De{constructor(e){super(),Be(this,e,on,nn,Ee,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}const sn=t=>({}),kt=t=>({});function ln(t){let e,n;return{c(){e=N("span"),n=fe(t[0]),this.h()},l(o){e=U(o,"SPAN",{class:!0});var s=W(e);n=ge(s,t[0]),s.forEach(b),this.h()},h(){S(e,"class","capitalize")},m(o,s){V(o,e,s),A(e,n)},p(o,s){s&1&&Me(n,o[0])},i:Fe,o:Fe,d(o){o&&b(e)}}}function rn(t){let e,n;return e=new Tt({props:{contentText:t[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[an],default:[un]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),n=!0},p(o,s){const u={};s&2&&(u.contentText=o[1]),s&9&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){E(e,o)}}}function un(t){let e,n;return{c(){e=N("span"),n=fe(t[0]),this.h()},l(o){e=U(o,"SPAN",{class:!0});var s=W(e);n=ge(s,t[0]),s.forEach(b),this.h()},h(){S(e,"class","capitalize")},m(o,s){V(o,e,s),A(e,n)},p(o,s){s&1&&Me(n,o[0])},d(o){o&&b(e)}}}function an(t){let e,n;return e=new ye({props:{icon:Lt,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),n=!0},p:Fe,i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){E(e,o)}}}function fn(t){let e,n,o,s,u,i,r,l,f;const _=[rn,ln],h=[];function c(k,w){return k[1]?0:1}s=c(t),u=h[s]=_[s](t);const v=t[2].header,$=Je(v,t,t[3],kt),T=t[2].default,M=Je(T,t,t[3],null);return{c(){e=N("section"),n=N("div"),o=N("h2"),u.c(),i=G(),$&&$.c(),r=G(),l=N("div"),M&&M.c(),this.h()},l(k){e=U(k,"SECTION",{class:!0});var w=W(e);n=U(w,"DIV",{class:!0});var P=W(n);o=U(P,"H2",{class:!0});var L=W(o);u.l(L),L.forEach(b),i=H(P),$&&$.l(P),P.forEach(b),r=H(w),l=U(w,"DIV",{});var j=W(l);M&&M.l(j),j.forEach(b),w.forEach(b),this.h()},h(){S(o,"class","mb-2 text-xl font-medium"),S(n,"class","flex"),S(e,"class","pb-8")},m(k,w){V(k,e,w),A(e,n),A(n,o),h[s].m(o,null),A(n,i),$&&$.m(n,null),A(e,r),A(e,l),M&&M.m(l,null),f=!0},p(k,[w]){let P=s;s=c(k),s===P?h[s].p(k,w):(ze(),O(h[P],1,1,()=>{h[P]=null}),Ce(),u=h[s],u?u.p(k,w):(u=h[s]=_[s](k),u.c()),I(u,1),u.m(o,null)),$&&$.p&&(!f||w&8)&&Qe($,v,k,k[3],f?Ye(v,k[3],w,sn):Xe(k[3]),kt),M&&M.p&&(!f||w&8)&&Qe(M,T,k,k[3],f?Ye(T,k[3],w,null):Xe(k[3]),null)},i(k){f||(I(u),I($,k),I(M,k),f=!0)},o(k){O(u),O($,k),O(M,k),f=!1},d(k){k&&b(e),h[s].d(),$&&$.d(k),M&&M.d(k)}}}function gn(t,e,n){let{$$slots:o={},$$scope:s}=e,{title:u}=e,{tooltip:i=""}=e;return t.$$set=r=>{"title"in r&&n(0,u=r.title),"tooltip"in r&&n(1,i=r.tooltip),"$$scope"in r&&n(3,s=r.$$scope)},[u,i,o,s]}class x extends De{constructor(e){super(),Be(this,e,gn,fn,Ee,{title:0,tooltip:1})}}function pn(t){let e,n;return e=new x({props:{title:"Persistent storage",tooltip:t[21],$$slots:{default:[dn]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),n=!0},p(o,s){const u={};s[0]&2097152&&(u.tooltip=o[21]),s[0]&8|s[1]&4194304&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){E(e,o)}}}function mn(t){let e,n,o,s,u,i,r,l,f,_,h,c,v,$,T,M,k,w,P,L,j,y,Z,X,se,ee,ae,J,Y,ne,le;n=new x({props:{title:"Theme",$$slots:{default:[_n]},$$scope:{ctx:t}}}),s=new x({props:{title:"Font family (Group 1)",$$slots:{default:[cn]},$$scope:{ctx:t}}}),i=new x({props:{title:"Font family (Group 2)",$$slots:{default:[hn]},$$scope:{ctx:t}}}),l=new x({props:{title:"Font size",$$slots:{default:[bn]},$$scope:{ctx:t}}}),_=new x({props:{title:"Line Height",$$slots:{default:[$n]},$$scope:{ctx:t}}}),c=new x({props:{title:t[23]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[vn],default:[kn]},$$scope:{ctx:t}}}),$=new x({props:{title:t[23]?"Reader Max height":"Reader Max width",$$slots:{header:[In],default:[wn]},$$scope:{ctx:t}}}),M=new x({props:{title:"View mode",$$slots:{default:[On]},$$scope:{ctx:t}}}),w=new x({props:{title:"Writing mode",$$slots:{default:[Sn]},$$scope:{ctx:t}}}),L=new x({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[Pn]},$$scope:{ctx:t}}}),y=new x({props:{title:"Blur image",$$slots:{default:[Vn]},$$scope:{ctx:t}}}),X=new x({props:{title:"Hide furigana",$$slots:{default:[Tn]},$$scope:{ctx:t}}}),ee=new x({props:{title:"Hide furigana style",tooltip:t[20],$$slots:{default:[Mn]},$$scope:{ctx:t}}});const ie=[Dn,Fn],re=[];function ce(a,d){return a[11]===Ae.Continuous?0:1}return J=ce(t),Y=re[J]=ie[J](t),{c(){e=N("div"),F(n.$$.fragment),o=G(),F(s.$$.fragment),u=G(),F(i.$$.fragment),r=G(),F(l.$$.fragment),f=G(),F(_.$$.fragment),h=G(),F(c.$$.fragment),v=G(),F($.$$.fragment),T=G(),F(M.$$.fragment),k=G(),F(w.$$.fragment),P=G(),F(L.$$.fragment),j=G(),F(y.$$.fragment),Z=G(),F(X.$$.fragment),se=G(),F(ee.$$.fragment),ae=G(),Y.c(),ne=He(),this.h()},l(a){e=U(a,"DIV",{class:!0});var d=W(e);D(n.$$.fragment,d),d.forEach(b),o=H(a),D(s.$$.fragment,a),u=H(a),D(i.$$.fragment,a),r=H(a),D(l.$$.fragment,a),f=H(a),D(_.$$.fragment,a),h=H(a),D(c.$$.fragment,a),v=H(a),D($.$$.fragment,a),T=H(a),D(M.$$.fragment,a),k=H(a),D(w.$$.fragment,a),P=H(a),D(L.$$.fragment,a),j=H(a),D(y.$$.fragment,a),Z=H(a),D(X.$$.fragment,a),se=H(a),D(ee.$$.fragment,a),ae=H(a),Y.l(a),ne=He(),this.h()},h(){S(e,"class","sm:col-span-2 lg:col-span-3")},m(a,d){V(a,e,d),B(n,e,null),V(a,o,d),B(s,a,d),V(a,u,d),B(i,a,d),V(a,r,d),B(l,a,d),V(a,f,d),B(_,a,d),V(a,h,d),B(c,a,d),V(a,v,d),B($,a,d),V(a,T,d),B(M,a,d),V(a,k,d),B(w,a,d),V(a,P,d),B(L,a,d),V(a,j,d),B(y,a,d),V(a,Z,d),B(X,a,d),V(a,se,d),B(ee,a,d),V(a,ae,d),re[J].m(a,d),V(a,ne,d),le=!0},p(a,d){const $e={};d[0]&16|d[1]&4194304&&($e.$$scope={dirty:d,ctx:a}),n.$set($e);const ke={};d[0]&32|d[1]&4194304&&(ke.$$scope={dirty:d,ctx:a}),s.$set(ke);const ve={};d[0]&64|d[1]&4194304&&(ve.$$scope={dirty:d,ctx:a}),i.$set(ve);const we={};d[0]&128|d[1]&4194304&&(we.$$scope={dirty:d,ctx:a}),l.$set(we);const Ie={};d[0]&256|d[1]&4194304&&(Ie.$$scope={dirty:d,ctx:a}),_.$set(Ie);const he={};d[0]&8388608&&(he.title=a[23]?"Reader Left/right margin":"Reader Top/bottom margin"),d[0]&8396800|d[1]&4194304&&(he.$$scope={dirty:d,ctx:a}),c.$set(he);const be={};d[0]&8388608&&(be.title=a[23]?"Reader Max height":"Reader Max width"),d[0]&8392704|d[1]&4194304&&(be.$$scope={dirty:d,ctx:a}),$.$set(be);const Oe={};d[0]&2048|d[1]&4194304&&(Oe.$$scope={dirty:d,ctx:a}),M.$set(Oe);const Se={};d[0]&2|d[1]&4194304&&(Se.$$scope={dirty:d,ctx:a}),w.$set(Se);const Pe={};d[0]&262144|d[1]&4194304&&(Pe.$$scope={dirty:d,ctx:a}),L.$set(Pe);const Ve={};d[0]&512|d[1]&4194304&&(Ve.$$scope={dirty:d,ctx:a}),y.$set(Ve);const Te={};d[0]&1024|d[1]&4194304&&(Te.$$scope={dirty:d,ctx:a}),X.$set(Te);const p={};d[0]&1048576&&(p.tooltip=a[20]),d[0]&1|d[1]&4194304&&(p.$$scope={dirty:d,ctx:a}),ee.$set(p);let me=J;J=ce(a),J===me?re[J].p(a,d):(ze(),O(re[me],1,1,()=>{re[me]=null}),Ce(),Y=re[J],Y?Y.p(a,d):(Y=re[J]=ie[J](a),Y.c()),I(Y,1),Y.m(ne.parentNode,ne))},i(a){le||(I(n.$$.fragment,a),I(s.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),I(_.$$.fragment,a),I(c.$$.fragment,a),I($.$$.fragment,a),I(M.$$.fragment,a),I(w.$$.fragment,a),I(L.$$.fragment,a),I(y.$$.fragment,a),I(X.$$.fragment,a),I(ee.$$.fragment,a),I(Y),le=!0)},o(a){O(n.$$.fragment,a),O(s.$$.fragment,a),O(i.$$.fragment,a),O(l.$$.fragment,a),O(_.$$.fragment,a),O(c.$$.fragment,a),O($.$$.fragment,a),O(M.$$.fragment,a),O(w.$$.fragment,a),O(L.$$.fragment,a),O(y.$$.fragment,a),O(X.$$.fragment,a),O(ee.$$.fragment,a),O(Y),le=!1},d(a){a&&b(e),E(n),a&&b(o),E(s,a),a&&b(u),E(i,a),a&&b(r),E(l,a),a&&b(f),E(_,a),a&&b(h),E(c,a),a&&b(v),E($,a),a&&b(T),E(M,a),a&&b(k),E(w,a),a&&b(P),E(L,a),a&&b(j),E(y,a),a&&b(Z),E(X,a),a&&b(se),E(ee,a),a&&b(ae),re[J].d(a),a&&b(ne)}}}function dn(t){let e,n,o;function s(i){t[51](i)}let u={options:t[25]};return t[3]!==void 0&&(u.selectedOptionId=t[3]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[3])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&8&&(n=!0,l.selectedOptionId=i[3],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function _n(t){let e,n,o;function s(i){t[29](i)}let u={options:t[24]};return t[4]!==void 0&&(u.selectedOptionId=t[4]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[4])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&16&&(n=!0,l.selectedOptionId=i[4],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function cn(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){S(e,"type","text"),S(e,"class",Re),S(e,"placeholder","Noto Serif JP")},m(s,u){V(s,e,u),oe(e,t[5]),n||(o=te(e,"input",t[30]),n=!0)},p(s,u){u[0]&32&&e.value!==s[5]&&oe(e,s[5])},d(s){s&&b(e),n=!1,o()}}}function hn(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){S(e,"type","text"),S(e,"class",Re),S(e,"placeholder","Noto Sans JP")},m(s,u){V(s,e,u),oe(e,t[6]),n||(o=te(e,"input",t[31]),n=!0)},p(s,u){u[0]&64&&e.value!==s[6]&&oe(e,s[6])},d(s){s&&b(e),n=!1,o()}}}function bn(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",Re),S(e,"step","1"),S(e,"min","1")},m(s,u){V(s,e,u),oe(e,t[7]),n||(o=te(e,"input",t[32]),n=!0)},p(s,u){u[0]&128&&_e(e.value)!==s[7]&&oe(e,s[7])},d(s){s&&b(e),n=!1,o()}}}function $n(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",Re),S(e,"step","0.05"),S(e,"min","1")},m(s,u){V(s,e,u),oe(e,t[8]),n||(o=[te(e,"input",t[33]),te(e,"change",t[34])],n=!0)},p(s,u){u[0]&256&&_e(e.value)!==s[8]&&oe(e,s[8])},d(s){s&&b(e),n=!1,qe(o)}}}function kn(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",Re),S(e,"step","1"),S(e,"min","0")},m(s,u){V(s,e,u),oe(e,t[13]),n||(o=te(e,"input",t[36]),n=!0)},p(s,u){u[0]&8192&&_e(e.value)!==s[13]&&oe(e,s[13])},d(s){s&&b(e),n=!1,o()}}}function vn(t){let e,n,o;function s(i){t[35](i)}let u={slot:"header",isFirstDimension:!0,isVertical:t[23]};return t[13]!==void 0&&(u.dimensionValue=t[13]),e=new Mt({props:u}),R.push(()=>z(e,"dimensionValue",s,t[13])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};r[0]&8388608&&(l.isVertical=i[23]),!n&&r[0]&8192&&(n=!0,l.dimensionValue=i[13],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function wn(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",Re),S(e,"step","1"),S(e,"min","0")},m(s,u){V(s,e,u),oe(e,t[12]),n||(o=te(e,"input",t[38]),n=!0)},p(s,u){u[0]&4096&&_e(e.value)!==s[12]&&oe(e,s[12])},d(s){s&&b(e),n=!1,o()}}}function In(t){let e,n,o;function s(i){t[37](i)}let u={slot:"header",isVertical:t[23]};return t[12]!==void 0&&(u.dimensionValue=t[12]),e=new Mt({props:u}),R.push(()=>z(e,"dimensionValue",s,t[12])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};r[0]&8388608&&(l.isVertical=i[23]),!n&&r[0]&4096&&(n=!0,l.dimensionValue=i[12],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function On(t){let e,n,o;function s(i){t[39](i)}let u={options:t[28]};return t[11]!==void 0&&(u.selectedOptionId=t[11]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[11])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&2048&&(n=!0,l.selectedOptionId=i[11],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Sn(t){let e,n,o;function s(i){t[40](i)}let u={options:t[27]};return t[1]!==void 0&&(u.selectedOptionId=t[1]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[1])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&2&&(n=!0,l.selectedOptionId=i[1],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Pn(t){let e,n,o;function s(i){t[41](i)}let u={options:t[25]};return t[18]!==void 0&&(u.selectedOptionId=t[18]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[18])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&262144&&(n=!0,l.selectedOptionId=i[18],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Vn(t){let e,n,o;function s(i){t[42](i)}let u={options:t[25]};return t[9]!==void 0&&(u.selectedOptionId=t[9]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[9])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&512&&(n=!0,l.selectedOptionId=i[9],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Tn(t){let e,n,o;function s(i){t[43](i)}let u={options:t[25]};return t[10]!==void 0&&(u.selectedOptionId=t[10]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[10])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&1024&&(n=!0,l.selectedOptionId=i[10],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Mn(t){let e,n,o;function s(i){t[44](i)}let u={options:t[26]};return t[0]!==void 0&&(u.selectedOptionId=t[0]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[0])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&1&&(n=!0,l.selectedOptionId=i[0],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Fn(t){let e,n,o,s,u,i;e=new x({props:{title:"Avoid Page Break",tooltip:t[22],$$slots:{default:[Bn]},$$scope:{ctx:t}}}),o=new x({props:{title:"Selection to Bookmark",tooltip:"When enabled bookmarks will be placed to a near paragraph of current/previous selected text instead of page start",$$slots:{default:[En]},$$scope:{ctx:t}}});let r=!t[23]&&vt(t);return{c(){F(e.$$.fragment),n=G(),F(o.$$.fragment),s=G(),r&&r.c(),u=He()},l(l){D(e.$$.fragment,l),n=H(l),D(o.$$.fragment,l),s=H(l),r&&r.l(l),u=He()},m(l,f){B(e,l,f),V(l,n,f),B(o,l,f),V(l,s,f),r&&r.m(l,f),V(l,u,f),i=!0},p(l,f){const _={};f[0]&4194304&&(_.tooltip=l[22]),f[0]&4|f[1]&4194304&&(_.$$scope={dirty:f,ctx:l}),e.$set(_);const h={};f[0]&65536|f[1]&4194304&&(h.$$scope={dirty:f,ctx:l}),o.$set(h),l[23]?r&&(ze(),O(r,1,1,()=>{r=null}),Ce()):r?(r.p(l,f),f[0]&8388608&&I(r,1)):(r=vt(l),r.c(),I(r,1),r.m(u.parentNode,u))},i(l){i||(I(e.$$.fragment,l),I(o.$$.fragment,l),I(r),i=!0)},o(l){O(e.$$.fragment,l),O(o.$$.fragment,l),O(r),i=!1},d(l){E(e,l),l&&b(n),E(o,l),l&&b(s),r&&r.d(l),l&&b(u)}}}function Dn(t){let e,n,o,s;return e=new x({props:{title:"Custom Reading Point",tooltip:"Allows to set a persistent custom point in the reader from which the current progress and bookmark is calculated when enabled",$$slots:{default:[zn]},$$scope:{ctx:t}}}),o=new x({props:{title:"Auto position on resize",$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment),n=G(),F(o.$$.fragment)},l(u){D(e.$$.fragment,u),n=H(u),D(o.$$.fragment,u)},m(u,i){B(e,u,i),V(u,n,i),B(o,u,i),s=!0},p(u,i){const r={};i[0]&32768|i[1]&4194304&&(r.$$scope={dirty:i,ctx:u}),e.$set(r);const l={};i[0]&16384|i[1]&4194304&&(l.$$scope={dirty:i,ctx:u}),o.$set(l)},i(u){s||(I(e.$$.fragment,u),I(o.$$.fragment,u),s=!0)},o(u){O(e.$$.fragment,u),O(o.$$.fragment,u),s=!1},d(u){E(e,u),u&&b(n),E(o,u)}}}function Bn(t){let e,n,o;function s(i){t[48](i)}let u={options:t[25]};return t[2]!==void 0&&(u.selectedOptionId=t[2]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[2])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&4&&(n=!0,l.selectedOptionId=i[2],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function En(t){let e,n,o;function s(i){t[49](i)}let u={options:t[25]};return t[16]!==void 0&&(u.selectedOptionId=t[16]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[16])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&65536&&(n=!0,l.selectedOptionId=i[16],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function vt(t){let e,n;return e=new x({props:{title:"Page Columns",$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),n=!0},p(o,s){const u={};s[0]&131072|s[1]&4194304&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){E(e,o)}}}function Rn(t){let e,n,o;return{c(){e=N("input"),this.h()},l(s){e=U(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",Re),S(e,"step","1"),S(e,"min","0")},m(s,u){V(s,e,u),oe(e,t[17]),n||(o=te(e,"input",t[50]),n=!0)},p(s,u){u[0]&131072&&_e(e.value)!==s[17]&&oe(e,s[17])},d(s){s&&b(e),n=!1,o()}}}function wt(t){let e,n,o,s;return{c(){e=N("div"),n=fe("Reset Points"),this.h()},l(u){e=U(u,"DIV",{role:!0,class:!0});var i=W(e);n=ge(i,"Reset Points"),i.forEach(b),this.h()},h(){S(e,"role","button"),S(e,"class","ml-4 hover:underline")},m(u,i){V(u,e,i),A(e,n),o||(s=[te(e,"click",t[46]),te(e,"keyup",Jt)],o=!0)},p:Fe,d(u){u&&b(e),o=!1,qe(s)}}}function zn(t){let e,n,o,s,u;function i(f){t[45](f)}let r={options:t[25]};t[15]!==void 0&&(r.selectedOptionId=t[15]),n=new pe({props:r}),R.push(()=>z(n,"selectedOptionId",i,t[15]));let l=t[15]&&wt(t);return{c(){e=N("div"),F(n.$$.fragment),s=G(),l&&l.c(),this.h()},l(f){e=U(f,"DIV",{class:!0});var _=W(e);D(n.$$.fragment,_),s=H(_),l&&l.l(_),_.forEach(b),this.h()},h(){S(e,"class","flex items-center")},m(f,_){V(f,e,_),B(n,e,null),A(e,s),l&&l.m(e,null),u=!0},p(f,_){const h={};!o&&_[0]&32768&&(o=!0,h.selectedOptionId=f[15],C(()=>o=!1)),n.$set(h),f[15]?l?l.p(f,_):(l=wt(f),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(f){u||(I(n.$$.fragment,f),u=!0)},o(f){O(n.$$.fragment,f),u=!1},d(f){f&&b(e),E(n),l&&l.d()}}}function Cn(t){let e,n,o;function s(i){t[47](i)}let u={options:t[25]};return t[14]!==void 0&&(u.selectedOptionId=t[14]),e=new pe({props:u}),R.push(()=>z(e,"selectedOptionId",s,t[14])),{c(){F(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,r){B(e,i,r),o=!0},p(i,r){const l={};!n&&r[0]&16384&&(n=!0,l.selectedOptionId=i[14],C(()=>n=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){O(e.$$.fragment,i),o=!1},d(i){E(e,i)}}}function Gn(t){let e,n,o,s;const u=[mn,pn],i=[];function r(l,f){return l[19]==="Reader"?0:1}return n=r(t),o=i[n]=u[n](t),{c(){e=N("div"),o.c(),this.h()},l(l){e=U(l,"DIV",{class:!0});var f=W(e);o.l(f),f.forEach(b),this.h()},h(){S(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:md:gap-8 lg:grid-cols-3")},m(l,f){V(l,e,f),i[n].m(e,null),s=!0},p(l,f){let _=n;n=r(l),n===_?i[n].p(l,f):(ze(),O(i[_],1,1,()=>{i[_]=null}),Ce(),o=i[n],o?o.p(l,f):(o=i[n]=u[n](l),o.c()),I(o,1),o.m(e,null))},i(l){s||(I(o),s=!0)},o(l){O(o),s=!1},d(l){l&&b(e),i[n].d()}}}function Hn(t,e,n){let o,s,u,{selectedTheme:i}=e,{fontFamilyGroupOne:r}=e,{fontFamilyGroupTwo:l}=e,{fontSize:f}=e,{lineHeight:_}=e,{blurImage:h}=e,{hideFurigana:c}=e,{furiganaStyle:v}=e,{writingMode:$}=e,{viewMode:T}=e,{secondDimensionMaxValue:M}=e,{firstDimensionMargin:k}=e,{autoPositionOnResize:w}=e,{avoidPageBreak:P}=e,{customReadingPointEnabled:L}=e,{selectionToBookmarkEnabled:j}=e,{pageColumns:y}=e,{persistentStorage:Z}=e,{autoBookmark:X}=e,{activeSettings:se}=e;const ae=Array.from(yt.entries()).map(([g,de])=>({theme:g,option:de})).map(({theme:g,option:de})=>({id:g,text:"ぁあ",style:{color:de.fontColor,"background-color":de.backgroundColor},thickBorders:!0})),J=[{id:!1,text:"Off"},{id:!0,text:"On"}],Y=[{id:Ge.Partial,text:"Partial"},{id:Ge.Full,text:"Full"},{id:Ge.Toggle,text:"Toggle"}],ne=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],le=[{id:Ae.Continuous,text:"Continuous"},{id:Ae.Paginated,text:"Paginated"}];let ie="";function re(g){i=g,n(4,i)}function ce(){r=this.value,n(5,r)}function a(){l=this.value,n(6,l)}function d(){f=_e(this.value),n(7,f)}function $e(){_=_e(this.value),n(8,_)}const ke=()=>{(!_||_<1)&&n(8,_=1.65)};function ve(g){k=g,n(13,k)}function we(){k=_e(this.value),n(13,k)}function Ie(g){M=g,n(12,M)}function he(){M=_e(this.value),n(12,M)}function be(g){T=g,n(11,T)}function Oe(g){$=g,n(1,$)}function Se(g){X=g,n(18,X)}function Pe(g){h=g,n(9,h)}function Ve(g){c=g,n(10,c)}function Te(g){v=g,n(0,v)}function p(g){L=g,n(15,L)}const me=()=>{zt.next(100),Ct.next(0)};function Ne(g){w=g,n(14,w)}function Ue(g){P=g,n(2,P)}function Le(g){j=g,n(16,j)}function Q(){y=_e(this.value),n(17,y)}function m(g){Z=g,n(3,Z)}return t.$$set=g=>{"selectedTheme"in g&&n(4,i=g.selectedTheme),"fontFamilyGroupOne"in g&&n(5,r=g.fontFamilyGroupOne),"fontFamilyGroupTwo"in g&&n(6,l=g.fontFamilyGroupTwo),"fontSize"in g&&n(7,f=g.fontSize),"lineHeight"in g&&n(8,_=g.lineHeight),"blurImage"in g&&n(9,h=g.blurImage),"hideFurigana"in g&&n(10,c=g.hideFurigana),"furiganaStyle"in g&&n(0,v=g.furiganaStyle),"writingMode"in g&&n(1,$=g.writingMode),"viewMode"in g&&n(11,T=g.viewMode),"secondDimensionMaxValue"in g&&n(12,M=g.secondDimensionMaxValue),"firstDimensionMargin"in g&&n(13,k=g.firstDimensionMargin),"autoPositionOnResize"in g&&n(14,w=g.autoPositionOnResize),"avoidPageBreak"in g&&n(2,P=g.avoidPageBreak),"customReadingPointEnabled"in g&&n(15,L=g.customReadingPointEnabled),"selectionToBookmarkEnabled"in g&&n(16,j=g.selectionToBookmarkEnabled),"pageColumns"in g&&n(17,y=g.pageColumns),"persistentStorage"in g&&n(3,Z=g.persistentStorage),"autoBookmark"in g&&n(18,X=g.autoBookmark),"activeSettings"in g&&n(19,se=g.activeSettings)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&n(23,o=$==="vertical-rl"),t.$$.dirty[0]&1)switch(v){case Ge.Full:n(20,ie="Hidden by default, show on hover or click");break;case Ge.Toggle:n(20,ie="Hidden by default, can be toggled on click");break;default:n(20,ie="Display furigana as grayed out text");break}t.$$.dirty[0]&4&&n(22,s=P?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),t.$$.dirty[0]&8&&n(21,u=Z?"Reader uses higher storage limit":`Uses lower temporary storage.
May require bookmark or notification permissions for enablement`)},[v,$,P,Z,i,r,l,f,_,h,c,T,M,k,w,L,j,y,X,se,ie,u,s,o,ae,J,Y,ne,le,re,ce,a,d,$e,ke,ve,we,Ie,he,be,Oe,Se,Pe,Ve,Te,p,me,Ne,Ue,Le,Q,m]}class Nn extends De{constructor(e){super(),Be(this,e,Hn,Gn,Ee,{selectedTheme:4,fontFamilyGroupOne:5,fontFamilyGroupTwo:6,fontSize:7,lineHeight:8,blurImage:9,hideFurigana:10,furiganaStyle:0,writingMode:1,viewMode:11,secondDimensionMaxValue:12,firstDimensionMargin:13,autoPositionOnResize:14,avoidPageBreak:2,customReadingPointEnabled:15,selectionToBookmarkEnabled:16,pageColumns:17,persistentStorage:3,autoBookmark:18,activeSettings:19},null,[-1,-1])}}function It(t,e,n){const o=t.slice();return o[4]=e[n],o}function Ot(t,e){let n,o,s,u=e[4].label+"",i,r,l,f,_,h,c;o=new ye({props:{class:"mb-1",icon:e[4].icon}}),l=new Pt({});function v(){return e[3](e[4])}return{key:t,first:null,c(){n=N("button"),F(o.$$.fragment),s=G(),i=fe(u),r=G(),F(l.$$.fragment),f=G(),this.h()},l($){n=U($,"BUTTON",{class:!0});var T=W(n);D(o.$$.fragment,T),s=H(T),i=ge(T,u),r=H(T),D(l.$$.fragment,T),f=H(T),T.forEach(b),this.h()},h(){S(n,"class","flex grow flex-col items-center justify-center text-xs"),ue(n,"bg-gray-900",e[0]===e[4].label),ue(n,"hover:bg-gray-900",e[0]!==e[4].label),this.first=n},m($,T){V($,n,T),B(o,n,null),A(n,s),A(n,i),A(n,r),B(l,n,null),A(n,f),_=!0,h||(c=te(n,"click",v),h=!0)},p($,T){e=$,(!_||T&5)&&ue(n,"bg-gray-900",e[0]===e[4].label),(!_||T&5)&&ue(n,"hover:bg-gray-900",e[0]!==e[4].label)},i($){_||(I(o.$$.fragment,$),I(l.$$.fragment,$),_=!0)},o($){O(o.$$.fragment,$),O(l.$$.fragment,$),_=!1},d($){$&&b(n),E(o),E(l),h=!1,c()}}}function Un(t){let e,n,o,s=[],u=new Map,i,r,l,f=t[2];const _=h=>h[4].label;for(let h=0;h<f.length;h+=1){let c=It(t,f,h),v=_(c);u.set(v,s[h]=Ot(v,c))}return r=new At({props:{leavePageLink:t[1]}}),{c(){e=N("div"),n=N("div"),o=N("div");for(let h=0;h<s.length;h+=1)s[h].c();i=G(),F(r.$$.fragment),this.h()},l(h){e=U(h,"DIV",{class:!0});var c=W(e);n=U(c,"DIV",{class:!0});var v=W(n);o=U(v,"DIV",{class:!0});var $=W(o);for(let T=0;T<s.length;T+=1)s[T].l($);$.forEach(b),i=H(v),D(r.$$.fragment,v),v.forEach(b),c.forEach(b),this.h()},h(){S(o,"class","h12 flex grow justify-evenly xl:h-10"),S(n,"class",Vt+" flex px-0 md:px-5"),S(e,"class",Gt)},m(h,c){V(h,e,c),A(e,n),A(n,o);for(let v=0;v<s.length;v+=1)s[v].m(o,null);A(n,i),B(r,n,null),l=!0},p(h,[c]){c&5&&(f=h[2],ze(),s=Bt(s,c,_,1,h,f,u,o,Et,Ot,null,It),Ce());const v={};c&2&&(v.leavePageLink=h[1]),r.$set(v)},i(h){if(!l){for(let c=0;c<f.length;c+=1)I(s[c]);I(r.$$.fragment,h),l=!0}},o(h){for(let c=0;c<s.length;c+=1)O(s[c]);O(r.$$.fragment,h),l=!1},d(h){h&&b(e);for(let c=0;c<s.length;c+=1)s[c].d();E(r)}}}function Ln(t,e,n){let{leavePageLink:o}=e,{activeSettings:s}=e;const u=[{label:"Reader",icon:jt},{label:"Data",icon:qt}],i=r=>n(0,s=r.label);return t.$$set=r=>{"leavePageLink"in r&&n(1,o=r.leavePageLink),"activeSettings"in r&&n(0,s=r.activeSettings)},[s,o,u,i]}class An extends De{constructor(e){super(),Be(this,e,Ln,Un,Ee,{leavePageLink:1,activeSettings:0})}}function jn(t){let e,n,o,s,u,i,r,l,f,_,h,c,v,$,T,M,k,w,P,L,j,y,Z,X,se,ee,ae,J,Y,ne=(t[21]??"")+"",le,ie;document.title=e=Ze("Settings");function re(m){t[24](m)}let ce={leavePageLink:t[0]};t[1]!==void 0&&(ce.activeSettings=t[1]),s=new An({props:ce}),R.push(()=>z(s,"activeSettings",re,t[1]));function a(m){t[25](m)}function d(m){t[26](m)}function $e(m){t[27](m)}function ke(m){t[28](m)}function ve(m){t[29](m)}function we(m){t[30](m)}function Ie(m){t[31](m)}function he(m){t[32](m)}function be(m){t[33](m)}function Oe(m){t[34](m)}function Se(m){t[35](m)}function Pe(m){t[36](m)}function Ve(m){t[37](m)}function Te(m){t[38](m)}function p(m){t[39](m)}function me(m){t[40](m)}function Ne(m){t[41](m)}function Ue(m){t[42](m)}function Le(m){t[43](m)}let Q={activeSettings:t[1]};return t[2]!==void 0&&(Q.selectedTheme=t[2]),t[3]!==void 0&&(Q.fontFamilyGroupOne=t[3]),t[4]!==void 0&&(Q.fontFamilyGroupTwo=t[4]),t[5]!==void 0&&(Q.fontSize=t[5]),t[6]!==void 0&&(Q.lineHeight=t[6]),t[7]!==void 0&&(Q.blurImage=t[7]),t[8]!==void 0&&(Q.hideFurigana=t[8]),t[9]!==void 0&&(Q.furiganaStyle=t[9]),t[10]!==void 0&&(Q.writingMode=t[10]),t[11]!==void 0&&(Q.viewMode=t[11]),t[12]!==void 0&&(Q.secondDimensionMaxValue=t[12]),t[13]!==void 0&&(Q.firstDimensionMargin=t[13]),t[14]!==void 0&&(Q.autoPositionOnResize=t[14]),t[15]!==void 0&&(Q.avoidPageBreak=t[15]),t[16]!==void 0&&(Q.customReadingPointEnabled=t[16]),t[17]!==void 0&&(Q.selectionToBookmarkEnabled=t[17]),t[18]!==void 0&&(Q.pageColumns=t[18]),t[19]!==void 0&&(Q.persistentStorage=t[19]),t[20]!==void 0&&(Q.autoBookmark=t[20]),f=new Nn({props:Q}),R.push(()=>z(f,"selectedTheme",a,t[2])),R.push(()=>z(f,"fontFamilyGroupOne",d,t[3])),R.push(()=>z(f,"fontFamilyGroupTwo",$e,t[4])),R.push(()=>z(f,"fontSize",ke,t[5])),R.push(()=>z(f,"lineHeight",ve,t[6])),R.push(()=>z(f,"blurImage",we,t[7])),R.push(()=>z(f,"hideFurigana",Ie,t[8])),R.push(()=>z(f,"furiganaStyle",he,t[9])),R.push(()=>z(f,"writingMode",be,t[10])),R.push(()=>z(f,"viewMode",Oe,t[11])),R.push(()=>z(f,"secondDimensionMaxValue",Se,t[12])),R.push(()=>z(f,"firstDimensionMargin",Pe,t[13])),R.push(()=>z(f,"autoPositionOnResize",Ve,t[14])),R.push(()=>z(f,"avoidPageBreak",Te,t[15])),R.push(()=>z(f,"customReadingPointEnabled",p,t[16])),R.push(()=>z(f,"selectionToBookmarkEnabled",me,t[17])),R.push(()=>z(f,"pageColumns",Ne,t[18])),R.push(()=>z(f,"persistentStorage",Ue,t[19])),R.push(()=>z(f,"autoBookmark",Le,t[20])),{c(){n=G(),o=N("div"),F(s.$$.fragment),i=G(),r=N("div"),l=N("div"),F(f.$$.fragment),Y=G(),le=fe(ne),this.h()},l(m){Rt("svelte-1mss3mt",document.head).forEach(b),n=H(m),o=U(m,"DIV",{class:!0});var de=W(o);D(s.$$.fragment,de),de.forEach(b),i=H(m),r=U(m,"DIV",{class:!0});var q=W(r);l=U(q,"DIV",{class:!0});var We=W(l);D(f.$$.fragment,We),We.forEach(b),q.forEach(b),Y=H(m),le=ge(m,ne),this.h()},h(){S(o,"class","elevation-4 fixed inset-x-0 top-0 z-10"),S(l,"class","max-w-5xl"),S(r,"class",Vt+" h-full pt-16 xl:pt-14")},m(m,g){V(m,n,g),V(m,o,g),B(s,o,null),V(m,i,g),V(m,r,g),A(r,l),B(f,l,null),V(m,Y,g),V(m,le,g),ie=!0},p(m,g){(!ie||g&0)&&e!==(e=Ze("Settings"))&&(document.title=e);const de={};g[0]&1&&(de.leavePageLink=m[0]),!u&&g[0]&2&&(u=!0,de.activeSettings=m[1],C(()=>u=!1)),s.$set(de);const q={};g[0]&2&&(q.activeSettings=m[1]),!_&&g[0]&4&&(_=!0,q.selectedTheme=m[2],C(()=>_=!1)),!h&&g[0]&8&&(h=!0,q.fontFamilyGroupOne=m[3],C(()=>h=!1)),!c&&g[0]&16&&(c=!0,q.fontFamilyGroupTwo=m[4],C(()=>c=!1)),!v&&g[0]&32&&(v=!0,q.fontSize=m[5],C(()=>v=!1)),!$&&g[0]&64&&($=!0,q.lineHeight=m[6],C(()=>$=!1)),!T&&g[0]&128&&(T=!0,q.blurImage=m[7],C(()=>T=!1)),!M&&g[0]&256&&(M=!0,q.hideFurigana=m[8],C(()=>M=!1)),!k&&g[0]&512&&(k=!0,q.furiganaStyle=m[9],C(()=>k=!1)),!w&&g[0]&1024&&(w=!0,q.writingMode=m[10],C(()=>w=!1)),!P&&g[0]&2048&&(P=!0,q.viewMode=m[11],C(()=>P=!1)),!L&&g[0]&4096&&(L=!0,q.secondDimensionMaxValue=m[12],C(()=>L=!1)),!j&&g[0]&8192&&(j=!0,q.firstDimensionMargin=m[13],C(()=>j=!1)),!y&&g[0]&16384&&(y=!0,q.autoPositionOnResize=m[14],C(()=>y=!1)),!Z&&g[0]&32768&&(Z=!0,q.avoidPageBreak=m[15],C(()=>Z=!1)),!X&&g[0]&65536&&(X=!0,q.customReadingPointEnabled=m[16],C(()=>X=!1)),!se&&g[0]&131072&&(se=!0,q.selectionToBookmarkEnabled=m[17],C(()=>se=!1)),!ee&&g[0]&262144&&(ee=!0,q.pageColumns=m[18],C(()=>ee=!1)),!ae&&g[0]&524288&&(ae=!0,q.persistentStorage=m[19],C(()=>ae=!1)),!J&&g[0]&1048576&&(J=!0,q.autoBookmark=m[20],C(()=>J=!1)),f.$set(q),(!ie||g[0]&2097152)&&ne!==(ne=(m[21]??"")+"")&&Me(le,ne)},i(m){ie||(I(s.$$.fragment,m),I(f.$$.fragment,m),ie=!0)},o(m){O(s.$$.fragment,m),O(f.$$.fragment,m),ie=!1},d(m){m&&b(n),m&&b(o),E(s),m&&b(i),m&&b(r),E(f),m&&b(Y),m&&b(le)}}}function qn(t,e,n){let o,s,u,i,r,l,f,_,h,c,v,$,T,M,k,w,P,L,j,y;K(t,Ke,p=>n(2,o=p)),K(t,xe,p=>n(3,s=p)),K(t,et,p=>n(4,u=p)),K(t,tt,p=>n(5,i=p)),K(t,nt,p=>n(6,r=p)),K(t,it,p=>n(7,l=p)),K(t,ot,p=>n(8,f=p)),K(t,st,p=>n(9,_=p)),K(t,lt,p=>n(10,h=p)),K(t,rt,p=>n(11,c=p)),K(t,ut,p=>n(12,v=p)),K(t,at,p=>n(13,$=p)),K(t,ft,p=>n(14,T=p)),K(t,gt,p=>n(15,M=p)),K(t,pt,p=>n(16,k=p)),K(t,mt,p=>n(17,w=p)),K(t,dt,p=>n(18,P=p)),K(t,_t,p=>n(20,j=p));const Z=Qt(!1);K(t,Z,p=>n(19,L=p));let X=!1;St(()=>{ct.persisted().then(J)});let se="/manage",ee="Reader";Ht(p=>{const{from:me}=p;!me||n(0,se=`${me.url.pathname}${me.url.search}`)});const ae=Z.pipe(Nt(p=>{if(!!X){if(!p){J(!0);return}ct.persist().then(J)}}),Wt());K(t,ae,p=>n(21,y=p));function J(p){X=!1,Z.next(p),X=!0}function Y(p){ee=p,n(1,ee)}function ne(p){o=p,Ke.set(o)}function le(p){s=p,xe.set(s)}function ie(p){u=p,et.set(u)}function re(p){i=p,tt.set(i)}function ce(p){r=p,nt.set(r)}function a(p){l=p,it.set(l)}function d(p){f=p,ot.set(f)}function $e(p){_=p,st.set(_)}function ke(p){h=p,lt.set(h)}function ve(p){c=p,rt.set(c)}function we(p){v=p,ut.set(v)}function Ie(p){$=p,at.set($)}function he(p){T=p,ft.set(T)}function be(p){M=p,gt.set(M)}function Oe(p){k=p,pt.set(k)}function Se(p){w=p,mt.set(w)}function Pe(p){P=p,dt.set(P)}function Ve(p){L=p,Z.set(L)}function Te(p){j=p,_t.set(j)}return[se,ee,o,s,u,i,r,l,f,_,h,c,v,$,T,M,k,w,P,L,j,y,Z,ae,Y,ne,le,ie,re,ce,a,d,$e,ke,ve,we,Ie,he,be,Oe,Se,Pe,Ve,Te]}class Kn extends De{constructor(e){super(),Be(this,e,qn,jn,Ee,{},null,[-1,-1])}}export{Kn as default};
