import{S as Se,i as Ve,n as Me,j as U,k as H,l as X,f as b,m as S,a as P,d as O,g as De,b as Be,t as I,R as $t,q as re,s as L,w as T,r as ue,c as A,x as D,ae as ie,O as y,y as B,_ as le,u as Ie,z,as as oe,Q as Te,af as vt,o as _t,C as kt,at as me,ac as G,ai as C,aj as E,W as Ue,X as He,Y as Le,Z as Ae,e as Ge,a6 as wt,ap as Ot,N as It,a2 as K}from"../../../chunks/singletons-54206af0.js";import{ag as dt,F as Re,V as Ce,ah as ze,a6 as ct,B as St,f as je,ai as Vt,t as Mt,G as We,O as qe,P as Qe,Q as Je,T as Xe,U as Ye,W as Ze,H as Ke,X as xe,Y as et,Z as tt,_ as nt,$ as it,a0 as ot,a1 as st}from"../../../chunks/format-page-title-24d86e72.js";import{a as Ft,r as Pt}from"../../../chunks/theme-option-7cf46fe1.js";import{P as ht,F as Ne,p as Tt,q as Dt,M as Bt,r as zt,s as Rt}from"../../../chunks/merged-header-icon-aec892cb.js";import{s as lt}from"../../../chunks/storage-c0963857.js";import{w as Gt}from"../../../chunks/dialog-manager-6307dd27.js";function rt(t,e,i){const o=t.slice();return o[3]=e[i],o}function ut(t){let e,i=t[3].text+"",o,s,r,n,l,u,f,w;r=new dt({});function c(){return t[2](t[3])}return{c(){e=U("button"),o=re(i),s=L(),T(r.$$.fragment),n=L(),this.h()},l(d){e=H(d,"BUTTON",{class:!0,style:!0});var $=X(e);o=ue($,i),s=A($),D(r.$$.fragment,$),n=A($),$.forEach(b),this.h()},h(){S(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),S(e,"style",l=at(t[3].style)),ie(e,"border-4",t[3].thickBorders&&t[3].id===t[0]),ie(e,"border-blue-300",t[3].id===t[0]),ie(e,"bg-gray-700",t[3].id===t[0]),ie(e,"text-white",t[3].id===t[0]),ie(e,"bg-white",t[3].id!==t[0])},m(d,$){P(d,e,$),y(e,o),y(e,s),B(r,e,null),y(e,n),u=!0,f||(w=le(e,"click",c),f=!0)},p(d,$){t=d,(!u||$&2)&&i!==(i=t[3].text+"")&&Ie(o,i),(!u||$&2&&l!==(l=at(t[3].style)))&&S(e,"style",l),(!u||$&3)&&ie(e,"border-4",t[3].thickBorders&&t[3].id===t[0]),(!u||$&3)&&ie(e,"border-blue-300",t[3].id===t[0]),(!u||$&3)&&ie(e,"bg-gray-700",t[3].id===t[0]),(!u||$&3)&&ie(e,"text-white",t[3].id===t[0]),(!u||$&3)&&ie(e,"bg-white",t[3].id!==t[0])},i(d){u||(O(r.$$.fragment,d),u=!0)},o(d){I(r.$$.fragment,d),u=!1},d(d){d&&b(e),z(r),f=!1,w()}}}function Ct(t){let e,i,o=t[1],s=[];for(let n=0;n<o.length;n+=1)s[n]=ut(rt(t,o,n));const r=n=>I(s[n],1,1,()=>{s[n]=null});return{c(){e=U("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=H(n,"DIV",{class:!0});var l=X(e);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(b),this.h()},h(){S(e,"class","-m-1")},m(n,l){P(n,e,l);for(let u=0;u<s.length;u+=1)s[u].m(e,null);i=!0},p(n,[l]){if(l&3){o=n[1];let u;for(u=0;u<o.length;u+=1){const f=rt(n,o,u);s[u]?(s[u].p(f,l),O(s[u],1)):(s[u]=ut(f),s[u].c(),O(s[u],1),s[u].m(e,null))}for(De(),u=o.length;u<s.length;u+=1)r(u);Be()}},i(n){if(!i){for(let l=0;l<o.length;l+=1)O(s[l]);i=!0}},o(n){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)I(s[l]);i=!1},d(n){n&&b(e),$t(s,n)}}}function at(t){return t?Object.entries(t).map(([e,i])=>`${e}: ${i}`).join(";"):""}function Et(t,e,i){let{options:o}=e,{selectedOptionId:s}=e;const r=n=>i(0,s=n.id);return t.$$set=n=>{"options"in n&&i(1,o=n.options),"selectedOptionId"in n&&i(0,s=n.selectedOptionId)},[s,o,r]}class fe extends Se{constructor(e){super(),Ve(this,e,Et,Ct,Me,{options:1,selectedOptionId:0})}}function Nt(t){let e,i,o,s,r,n,l,u,f,w,c,d,$,v,V,M,k;return{c(){e=U("div"),i=re(t[1]),o=re("% - "),s=re(t[4]),r=re("px"),n=L(),l=U("input"),u=L(),f=U("div"),w=U("button"),c=re(t[5]),d=re("%"),$=L(),v=U("button"),V=re("50%"),this.h()},l(h){e=H(h,"DIV",{class:!0});var F=X(e);i=ue(F,t[1]),o=ue(F,"% - "),s=ue(F,t[4]),r=ue(F,"px"),F.forEach(b),n=A(h),l=H(h,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),u=A(h),f=H(h,"DIV",{class:!0});var R=X(f);w=H(R,"BUTTON",{});var j=X(w);c=ue(j,t[5]),d=ue(j,"%"),j.forEach(b),$=A(R),v=H(R,"BUTTON",{});var q=X(v);V=ue(q,"50%"),q.forEach(b),R.forEach(b),this.h()},h(){S(e,"class","text-center"),S(l,"class","mb-2 mt-4"),S(l,"type","range"),S(l,"step",Ee),S(l,"min",t[3]),S(l,"max",t[2]),S(f,"class","flex justify-evenly")},m(h,F){P(h,e,F),y(e,i),y(e,o),y(e,s),y(e,r),P(h,n,F),P(h,l,F),oe(l,t[1]),P(h,u,F),P(h,f,F),y(f,w),y(w,c),y(w,d),y(f,$),y(f,v),y(v,V),M||(k=[le(l,"change",t[9]),le(l,"input",t[9]),le(l,"change",t[10]),le(w,"click",t[11]),le(v,"click",t[12])],M=!0)},p(h,[F]){F&2&&Ie(i,h[1]),F&16&&Ie(s,h[4]),F&8&&S(l,"min",h[3]),F&4&&S(l,"max",h[2]),F&2&&oe(l,h[1]),F&32&&Ie(c,h[5])},i:Te,o:Te,d(h){h&&b(e),h&&b(n),h&&b(l),h&&b(u),h&&b(f),M=!1,vt(k)}}}const Ee=5;function yt(t,e,i){let o,s,r,n,{dimensionValue:l=0}=e,{isVertical:u=!0}=e,{isFirstDimension:f=!1}=e,w=0;function c(){return u?f?"innerWidth":"innerHeight":f?"innerHeight":"innerWidth"}async function d(k=0){i(1,w=k),await kt(),i(0,l=o)}_t(()=>{const k=Math.min(Math.max(Math.round(l*(f?2:1)/window[c()]*100),!f&&!l?r:s),r);d(Math.round(k/Ee)*Ee)});function $(){w=me(this.value),i(1,w)}const v=()=>i(0,l=o),V=()=>d(n),M=()=>d(50);return t.$$set=k=>{"dimensionValue"in k&&i(0,l=k.dimensionValue),"isVertical"in k&&i(7,u=k.isVertical),"isFirstDimension"in k&&i(8,f=k.isFirstDimension)},t.$$.update=()=>{t.$$.dirty&258&&i(4,o=Math.ceil(window[c()]*(w/100/(f?2:1)))),t.$$.dirty&256&&i(3,s=f?5:50),t.$$.dirty&256&&i(2,r=f?50:95),t.$$.dirty&256&&i(5,n=f?25:75)},[l,w,r,s,o,n,d,u,f,$,v,V,M]}class Ut extends Se{constructor(e){super(),Ve(this,e,yt,Nt,Me,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function Ht(t){let e,i;return e=new Ne({props:{icon:Tt,slot:"icon",class:"mx-2"}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p:Te,i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function Lt(t){let e,i,o;function s(n){t[3](n)}let r={slot:"content",isFirstDimension:t[1],isVertical:t[2]};return t[0]!==void 0&&(r.dimensionValue=t[0]),e=new Ut({props:r}),G.push(()=>C(e,"dimensionValue",s,t[0])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};l&2&&(u.isFirstDimension=n[1]),l&4&&(u.isVertical=n[2]),!i&&l&1&&(i=!0,u.dimensionValue=n[0],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function At(t){let e,i;return e=new ht({props:{$$slots:{content:[Lt],icon:[Ht]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p(o,[s]){const r={};s&23&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function jt(t,e,i){let{isFirstDimension:o=!1}=e,{isVertical:s=!1}=e,{dimensionValue:r=0}=e;function n(l){r=l,i(0,r)}return t.$$set=l=>{"isFirstDimension"in l&&i(1,o=l.isFirstDimension),"isVertical"in l&&i(2,s=l.isVertical),"dimensionValue"in l&&i(0,r=l.dimensionValue)},[r,o,s,n]}class bt extends Se{constructor(e){super(),Ve(this,e,jt,At,Me,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}const Wt=t=>({}),ft=t=>({});function qt(t){let e,i;return{c(){e=U("span"),i=re(t[0]),this.h()},l(o){e=H(o,"SPAN",{class:!0});var s=X(e);i=ue(s,t[0]),s.forEach(b),this.h()},h(){S(e,"class","capitalize")},m(o,s){P(o,e,s),y(e,i)},p(o,s){s&1&&Ie(i,o[0])},i:Te,o:Te,d(o){o&&b(e)}}}function Qt(t){let e,i;return e=new ht({props:{contentText:t[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[Xt],default:[Jt]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p(o,s){const r={};s&2&&(r.contentText=o[1]),s&9&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function Jt(t){let e,i;return{c(){e=U("span"),i=re(t[0]),this.h()},l(o){e=H(o,"SPAN",{class:!0});var s=X(e);i=ue(s,t[0]),s.forEach(b),this.h()},h(){S(e,"class","capitalize")},m(o,s){P(o,e,s),y(e,i)},p(o,s){s&1&&Ie(i,o[0])},d(o){o&&b(e)}}}function Xt(t){let e,i;return e=new Ne({props:{icon:Dt,slot:"icon",class:"mx-2"}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p:Te,i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function Yt(t){let e,i,o,s,r,n,l,u,f;const w=[Qt,qt],c=[];function d(k,h){return k[1]?0:1}s=d(t),r=c[s]=w[s](t);const $=t[2].header,v=Ue($,t,t[3],ft),V=t[2].default,M=Ue(V,t,t[3],null);return{c(){e=U("section"),i=U("div"),o=U("h2"),r.c(),n=L(),v&&v.c(),l=L(),u=U("div"),M&&M.c(),this.h()},l(k){e=H(k,"SECTION",{class:!0});var h=X(e);i=H(h,"DIV",{class:!0});var F=X(i);o=H(F,"H2",{class:!0});var R=X(o);r.l(R),R.forEach(b),n=A(F),v&&v.l(F),F.forEach(b),l=A(h),u=H(h,"DIV",{});var j=X(u);M&&M.l(j),j.forEach(b),h.forEach(b),this.h()},h(){S(o,"class","mb-2 text-xl font-medium"),S(i,"class","flex"),S(e,"class","pb-8")},m(k,h){P(k,e,h),y(e,i),y(i,o),c[s].m(o,null),y(i,n),v&&v.m(i,null),y(e,l),y(e,u),M&&M.m(u,null),f=!0},p(k,[h]){let F=s;s=d(k),s===F?c[s].p(k,h):(De(),I(c[F],1,1,()=>{c[F]=null}),Be(),r=c[s],r?r.p(k,h):(r=c[s]=w[s](k),r.c()),O(r,1),r.m(o,null)),v&&v.p&&(!f||h&8)&&He(v,$,k,k[3],f?Ae($,k[3],h,Wt):Le(k[3]),ft),M&&M.p&&(!f||h&8)&&He(M,V,k,k[3],f?Ae(V,k[3],h,null):Le(k[3]),null)},i(k){f||(O(r),O(v,k),O(M,k),f=!0)},o(k){I(r),I(v,k),I(M,k),f=!1},d(k){k&&b(e),c[s].d(),v&&v.d(k),M&&M.d(k)}}}function Zt(t,e,i){let{$$slots:o={},$$scope:s}=e,{title:r}=e,{tooltip:n=""}=e;return t.$$set=l=>{"title"in l&&i(0,r=l.title),"tooltip"in l&&i(1,n=l.tooltip),"$$scope"in l&&i(3,s=l.$$scope)},[r,n,o,s]}class ee extends Se{constructor(e){super(),Ve(this,e,Zt,Yt,Me,{title:0,tooltip:1})}}function Kt(t){let e,i;return e=new ee({props:{title:"Persistent storage",tooltip:t[18],$$slots:{default:[en]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p(o,s){const r={};s[0]&262144&&(r.tooltip=o[18]),s[0]&8|s[1]&16384&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function xt(t){let e,i,o,s,r,n,l,u,f,w,c,d,$,v,V,M,k,h,F,R,j,q,se,Z,ne,Q,W,x,Y;i=new ee({props:{title:"Theme",$$slots:{default:[tn]},$$scope:{ctx:t}}}),s=new ee({props:{title:"Font size",$$slots:{default:[nn]},$$scope:{ctx:t}}}),n=new ee({props:{title:"Font family (Group 1)",$$slots:{default:[on]},$$scope:{ctx:t}}}),u=new ee({props:{title:"Font family (Group 2)",$$slots:{default:[sn]},$$scope:{ctx:t}}}),w=new ee({props:{title:t[20]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[rn],default:[ln]},$$scope:{ctx:t}}}),d=new ee({props:{title:t[20]?"Reader Max height":"Reader Max width",$$slots:{header:[an],default:[un]},$$scope:{ctx:t}}}),v=new ee({props:{title:"View mode",$$slots:{default:[fn]},$$scope:{ctx:t}}}),M=new ee({props:{title:"Writing mode",$$slots:{default:[gn]},$$scope:{ctx:t}}}),h=new ee({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[pn]},$$scope:{ctx:t}}}),R=new ee({props:{title:"Blur image",$$slots:{default:[mn]},$$scope:{ctx:t}}}),q=new ee({props:{title:"Hide furigana",$$slots:{default:[_n]},$$scope:{ctx:t}}}),Z=new ee({props:{title:"Hide furigana style",tooltip:t[17],$$slots:{default:[dn]},$$scope:{ctx:t}}});const _e=[hn,cn],te=[];function de(a,_){return a[10]===Ce.Continuous?0:1}return Q=de(t),W=te[Q]=_e[Q](t),{c(){e=U("div"),T(i.$$.fragment),o=L(),T(s.$$.fragment),r=L(),T(n.$$.fragment),l=L(),T(u.$$.fragment),f=L(),T(w.$$.fragment),c=L(),T(d.$$.fragment),$=L(),T(v.$$.fragment),V=L(),T(M.$$.fragment),k=L(),T(h.$$.fragment),F=L(),T(R.$$.fragment),j=L(),T(q.$$.fragment),se=L(),T(Z.$$.fragment),ne=L(),W.c(),x=Ge(),this.h()},l(a){e=H(a,"DIV",{class:!0});var _=X(e);D(i.$$.fragment,_),_.forEach(b),o=A(a),D(s.$$.fragment,a),r=A(a),D(n.$$.fragment,a),l=A(a),D(u.$$.fragment,a),f=A(a),D(w.$$.fragment,a),c=A(a),D(d.$$.fragment,a),$=A(a),D(v.$$.fragment,a),V=A(a),D(M.$$.fragment,a),k=A(a),D(h.$$.fragment,a),F=A(a),D(R.$$.fragment,a),j=A(a),D(q.$$.fragment,a),se=A(a),D(Z.$$.fragment,a),ne=A(a),W.l(a),x=Ge(),this.h()},h(){S(e,"class","sm:col-span-2 lg:col-span-3")},m(a,_){P(a,e,_),B(i,e,null),P(a,o,_),B(s,a,_),P(a,r,_),B(n,a,_),P(a,l,_),B(u,a,_),P(a,f,_),B(w,a,_),P(a,c,_),B(d,a,_),P(a,$,_),B(v,a,_),P(a,V,_),B(M,a,_),P(a,k,_),B(h,a,_),P(a,F,_),B(R,a,_),P(a,j,_),B(q,a,_),P(a,se,_),B(Z,a,_),P(a,ne,_),te[Q].m(a,_),P(a,x,_),Y=!0},p(a,_){const ce={};_[0]&16|_[1]&16384&&(ce.$$scope={dirty:_,ctx:a}),i.$set(ce);const he={};_[0]&32|_[1]&16384&&(he.$$scope={dirty:_,ctx:a}),s.$set(he);const be={};_[0]&64|_[1]&16384&&(be.$$scope={dirty:_,ctx:a}),n.$set(be);const $e={};_[0]&128|_[1]&16384&&($e.$$scope={dirty:_,ctx:a}),u.$set($e);const ge={};_[0]&1048576&&(ge.title=a[20]?"Reader Left/right margin":"Reader Top/bottom margin"),_[0]&1052672|_[1]&16384&&(ge.$$scope={dirty:_,ctx:a}),w.$set(ge);const pe={};_[0]&1048576&&(pe.title=a[20]?"Reader Max height":"Reader Max width"),_[0]&1050624|_[1]&16384&&(pe.$$scope={dirty:_,ctx:a}),d.$set(pe);const ve={};_[0]&1024|_[1]&16384&&(ve.$$scope={dirty:_,ctx:a}),v.$set(ve);const ke={};_[0]&2|_[1]&16384&&(ke.$$scope={dirty:_,ctx:a}),M.$set(ke);const p={};_[0]&32768|_[1]&16384&&(p.$$scope={dirty:_,ctx:a}),h.$set(p);const ae={};_[0]&256|_[1]&16384&&(ae.$$scope={dirty:_,ctx:a}),R.$set(ae);const Fe={};_[0]&512|_[1]&16384&&(Fe.$$scope={dirty:_,ctx:a}),q.$set(Fe);const we={};_[0]&131072&&(we.tooltip=a[17]),_[0]&1|_[1]&16384&&(we.$$scope={dirty:_,ctx:a}),Z.$set(we);let Oe=Q;Q=de(a),Q===Oe?te[Q].p(a,_):(De(),I(te[Oe],1,1,()=>{te[Oe]=null}),Be(),W=te[Q],W?W.p(a,_):(W=te[Q]=_e[Q](a),W.c()),O(W,1),W.m(x.parentNode,x))},i(a){Y||(O(i.$$.fragment,a),O(s.$$.fragment,a),O(n.$$.fragment,a),O(u.$$.fragment,a),O(w.$$.fragment,a),O(d.$$.fragment,a),O(v.$$.fragment,a),O(M.$$.fragment,a),O(h.$$.fragment,a),O(R.$$.fragment,a),O(q.$$.fragment,a),O(Z.$$.fragment,a),O(W),Y=!0)},o(a){I(i.$$.fragment,a),I(s.$$.fragment,a),I(n.$$.fragment,a),I(u.$$.fragment,a),I(w.$$.fragment,a),I(d.$$.fragment,a),I(v.$$.fragment,a),I(M.$$.fragment,a),I(h.$$.fragment,a),I(R.$$.fragment,a),I(q.$$.fragment,a),I(Z.$$.fragment,a),I(W),Y=!1},d(a){a&&b(e),z(i),a&&b(o),z(s,a),a&&b(r),z(n,a),a&&b(l),z(u,a),a&&b(f),z(w,a),a&&b(c),z(d,a),a&&b($),z(v,a),a&&b(V),z(M,a),a&&b(k),z(h,a),a&&b(F),z(R,a),a&&b(j),z(q,a),a&&b(se),z(Z,a),a&&b(ne),te[Q].d(a),a&&b(x)}}}function en(t){let e,i,o;function s(n){t[43](n)}let r={options:t[22]};return t[3]!==void 0&&(r.selectedOptionId=t[3]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[3])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&8&&(i=!0,u.selectedOptionId=n[3],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function tn(t){let e,i,o;function s(n){t[26](n)}let r={options:t[21]};return t[4]!==void 0&&(r.selectedOptionId=t[4]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[4])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&16&&(i=!0,u.selectedOptionId=n[4],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function nn(t){let e,i,o;return{c(){e=U("input"),this.h()},l(s){e=H(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",ze),S(e,"step","1"),S(e,"min","1")},m(s,r){P(s,e,r),oe(e,t[5]),i||(o=le(e,"input",t[27]),i=!0)},p(s,r){r[0]&32&&me(e.value)!==s[5]&&oe(e,s[5])},d(s){s&&b(e),i=!1,o()}}}function on(t){let e,i,o;return{c(){e=U("input"),this.h()},l(s){e=H(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){S(e,"type","text"),S(e,"class",ze),S(e,"placeholder","Noto Serif JP")},m(s,r){P(s,e,r),oe(e,t[6]),i||(o=le(e,"input",t[28]),i=!0)},p(s,r){r[0]&64&&e.value!==s[6]&&oe(e,s[6])},d(s){s&&b(e),i=!1,o()}}}function sn(t){let e,i,o;return{c(){e=U("input"),this.h()},l(s){e=H(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){S(e,"type","text"),S(e,"class",ze),S(e,"placeholder","Noto Sans JP")},m(s,r){P(s,e,r),oe(e,t[7]),i||(o=le(e,"input",t[29]),i=!0)},p(s,r){r[0]&128&&e.value!==s[7]&&oe(e,s[7])},d(s){s&&b(e),i=!1,o()}}}function ln(t){let e,i,o;return{c(){e=U("input"),this.h()},l(s){e=H(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",ze),S(e,"step","1"),S(e,"min","0")},m(s,r){P(s,e,r),oe(e,t[12]),i||(o=le(e,"input",t[31]),i=!0)},p(s,r){r[0]&4096&&me(e.value)!==s[12]&&oe(e,s[12])},d(s){s&&b(e),i=!1,o()}}}function rn(t){let e,i,o;function s(n){t[30](n)}let r={slot:"header",isFirstDimension:!0,isVertical:t[20]};return t[12]!==void 0&&(r.dimensionValue=t[12]),e=new bt({props:r}),G.push(()=>C(e,"dimensionValue",s,t[12])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};l[0]&1048576&&(u.isVertical=n[20]),!i&&l[0]&4096&&(i=!0,u.dimensionValue=n[12],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function un(t){let e,i,o;return{c(){e=U("input"),this.h()},l(s){e=H(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",ze),S(e,"step","1"),S(e,"min","0")},m(s,r){P(s,e,r),oe(e,t[11]),i||(o=le(e,"input",t[33]),i=!0)},p(s,r){r[0]&2048&&me(e.value)!==s[11]&&oe(e,s[11])},d(s){s&&b(e),i=!1,o()}}}function an(t){let e,i,o;function s(n){t[32](n)}let r={slot:"header",isVertical:t[20]};return t[11]!==void 0&&(r.dimensionValue=t[11]),e=new bt({props:r}),G.push(()=>C(e,"dimensionValue",s,t[11])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};l[0]&1048576&&(u.isVertical=n[20]),!i&&l[0]&2048&&(i=!0,u.dimensionValue=n[11],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function fn(t){let e,i,o;function s(n){t[34](n)}let r={options:t[25]};return t[10]!==void 0&&(r.selectedOptionId=t[10]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[10])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&1024&&(i=!0,u.selectedOptionId=n[10],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function gn(t){let e,i,o;function s(n){t[35](n)}let r={options:t[24]};return t[1]!==void 0&&(r.selectedOptionId=t[1]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[1])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&2&&(i=!0,u.selectedOptionId=n[1],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function pn(t){let e,i,o;function s(n){t[36](n)}let r={options:t[22]};return t[15]!==void 0&&(r.selectedOptionId=t[15]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[15])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&32768&&(i=!0,u.selectedOptionId=n[15],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function mn(t){let e,i,o;function s(n){t[37](n)}let r={options:t[22]};return t[8]!==void 0&&(r.selectedOptionId=t[8]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[8])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&256&&(i=!0,u.selectedOptionId=n[8],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function _n(t){let e,i,o;function s(n){t[38](n)}let r={options:t[22]};return t[9]!==void 0&&(r.selectedOptionId=t[9]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[9])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&512&&(i=!0,u.selectedOptionId=n[9],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function dn(t){let e,i,o;function s(n){t[39](n)}let r={options:t[23]};return t[0]!==void 0&&(r.selectedOptionId=t[0]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[0])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&1&&(i=!0,u.selectedOptionId=n[0],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function cn(t){let e,i,o,s;e=new ee({props:{title:"Avoid Page Break",tooltip:t[19],$$slots:{default:[bn]},$$scope:{ctx:t}}});let r=!t[20]&&gt(t);return{c(){T(e.$$.fragment),i=L(),r&&r.c(),o=Ge()},l(n){D(e.$$.fragment,n),i=A(n),r&&r.l(n),o=Ge()},m(n,l){B(e,n,l),P(n,i,l),r&&r.m(n,l),P(n,o,l),s=!0},p(n,l){const u={};l[0]&524288&&(u.tooltip=n[19]),l[0]&4|l[1]&16384&&(u.$$scope={dirty:l,ctx:n}),e.$set(u),n[20]?r&&(De(),I(r,1,1,()=>{r=null}),Be()):r?(r.p(n,l),l[0]&1048576&&O(r,1)):(r=gt(n),r.c(),O(r,1),r.m(o.parentNode,o))},i(n){s||(O(e.$$.fragment,n),O(r),s=!0)},o(n){I(e.$$.fragment,n),I(r),s=!1},d(n){z(e,n),n&&b(i),r&&r.d(n),n&&b(o)}}}function hn(t){let e,i;return e=new ee({props:{title:"Auto position on resize",$$slots:{default:[vn]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p(o,s){const r={};s[0]&8192|s[1]&16384&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function bn(t){let e,i,o;function s(n){t[41](n)}let r={options:t[22]};return t[2]!==void 0&&(r.selectedOptionId=t[2]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[2])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&4&&(i=!0,u.selectedOptionId=n[2],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function gt(t){let e,i;return e=new ee({props:{title:"Page Columns",$$slots:{default:[$n]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,s){B(e,o,s),i=!0},p(o,s){const r={};s[0]&16384|s[1]&16384&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){z(e,o)}}}function $n(t){let e,i,o;return{c(){e=U("input"),this.h()},l(s){e=H(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){S(e,"type","number"),S(e,"class",ze),S(e,"step","1"),S(e,"min","0")},m(s,r){P(s,e,r),oe(e,t[14]),i||(o=le(e,"input",t[42]),i=!0)},p(s,r){r[0]&16384&&me(e.value)!==s[14]&&oe(e,s[14])},d(s){s&&b(e),i=!1,o()}}}function vn(t){let e,i,o;function s(n){t[40](n)}let r={options:t[22]};return t[13]!==void 0&&(r.selectedOptionId=t[13]),e=new fe({props:r}),G.push(()=>C(e,"selectedOptionId",s,t[13])),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,l){B(e,n,l),o=!0},p(n,l){const u={};!i&&l[0]&8192&&(i=!0,u.selectedOptionId=n[13],E(()=>i=!1)),e.$set(u)},i(n){o||(O(e.$$.fragment,n),o=!0)},o(n){I(e.$$.fragment,n),o=!1},d(n){z(e,n)}}}function kn(t){let e,i,o,s;const r=[xt,Kt],n=[];function l(u,f){return u[16]==="Reader"?0:1}return i=l(t),o=n[i]=r[i](t),{c(){e=U("div"),o.c(),this.h()},l(u){e=H(u,"DIV",{class:!0});var f=X(e);o.l(f),f.forEach(b),this.h()},h(){S(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:grid-cols-3 lg:md:gap-8")},m(u,f){P(u,e,f),n[i].m(e,null),s=!0},p(u,f){let w=i;i=l(u),i===w?n[i].p(u,f):(De(),I(n[w],1,1,()=>{n[w]=null}),Be(),o=n[i],o?o.p(u,f):(o=n[i]=r[i](u),o.c()),O(o,1),o.m(e,null))},i(u){s||(O(o),s=!0)},o(u){I(o),s=!1},d(u){u&&b(e),n[i].d()}}}function wn(t,e,i){let o,s,r,{selectedTheme:n}=e,{fontSize:l}=e,{fontFamilyGroupOne:u}=e,{fontFamilyGroupTwo:f}=e,{blurImage:w}=e,{hideFurigana:c}=e,{furiganaStyle:d}=e,{writingMode:$}=e,{viewMode:v}=e,{secondDimensionMaxValue:V}=e,{firstDimensionMargin:M}=e,{autoPositionOnResize:k}=e,{avoidPageBreak:h}=e,{pageColumns:F}=e,{persistentStorage:R}=e,{autoBookmark:j}=e,{activeSettings:q}=e;const Z=Array.from(Ft.entries()).map(([m,g])=>({theme:m,option:g})).map(({theme:m,option:g})=>({id:m,text:"ぁあ",style:{color:g.fontColor,"background-color":g.backgroundColor},thickBorders:!0})),ne=[{id:!1,text:"Off"},{id:!0,text:"On"}],Q=[{id:Re.Partial,text:"Partial"},{id:Re.Full,text:"Full"},{id:Re.Toggle,text:"Toggle"}],W=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],x=[{id:Ce.Continuous,text:"Continuous"},{id:Ce.Paginated,text:"Paginated"}];let Y="";function _e(m){n=m,i(4,n)}function te(){l=me(this.value),i(5,l)}function de(){u=this.value,i(6,u)}function a(){f=this.value,i(7,f)}function _(m){M=m,i(12,M)}function ce(){M=me(this.value),i(12,M)}function he(m){V=m,i(11,V)}function be(){V=me(this.value),i(11,V)}function $e(m){v=m,i(10,v)}function ge(m){$=m,i(1,$)}function pe(m){j=m,i(15,j)}function ve(m){w=m,i(8,w)}function ke(m){c=m,i(9,c)}function p(m){d=m,i(0,d)}function ae(m){k=m,i(13,k)}function Fe(m){h=m,i(2,h)}function we(){F=me(this.value),i(14,F)}function Oe(m){R=m,i(3,R)}return t.$$set=m=>{"selectedTheme"in m&&i(4,n=m.selectedTheme),"fontSize"in m&&i(5,l=m.fontSize),"fontFamilyGroupOne"in m&&i(6,u=m.fontFamilyGroupOne),"fontFamilyGroupTwo"in m&&i(7,f=m.fontFamilyGroupTwo),"blurImage"in m&&i(8,w=m.blurImage),"hideFurigana"in m&&i(9,c=m.hideFurigana),"furiganaStyle"in m&&i(0,d=m.furiganaStyle),"writingMode"in m&&i(1,$=m.writingMode),"viewMode"in m&&i(10,v=m.viewMode),"secondDimensionMaxValue"in m&&i(11,V=m.secondDimensionMaxValue),"firstDimensionMargin"in m&&i(12,M=m.firstDimensionMargin),"autoPositionOnResize"in m&&i(13,k=m.autoPositionOnResize),"avoidPageBreak"in m&&i(2,h=m.avoidPageBreak),"pageColumns"in m&&i(14,F=m.pageColumns),"persistentStorage"in m&&i(3,R=m.persistentStorage),"autoBookmark"in m&&i(15,j=m.autoBookmark),"activeSettings"in m&&i(16,q=m.activeSettings)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&i(20,o=$==="vertical-rl"),t.$$.dirty[0]&1)switch(d){case Re.Full:i(17,Y="Hidden by default, show on hover or click");break;case Re.Toggle:i(17,Y="Hidden by default, can be toggled on click");break;default:i(17,Y="Display furigana as grayed out text");break}t.$$.dirty[0]&4&&i(19,s=h?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),t.$$.dirty[0]&8&&i(18,r=R?"Reader uses higher storage limit":`Uses lower temporary storage.
May require bookmark or notification permissions for enablement`)},[d,$,h,R,n,l,u,f,w,c,v,V,M,k,F,j,q,Y,r,s,o,Z,ne,Q,W,x,_e,te,de,a,_,ce,he,be,$e,ge,pe,ve,ke,p,ae,Fe,we,Oe]}class On extends Se{constructor(e){super(),Ve(this,e,wn,kn,Me,{selectedTheme:4,fontSize:5,fontFamilyGroupOne:6,fontFamilyGroupTwo:7,blurImage:8,hideFurigana:9,furiganaStyle:0,writingMode:1,viewMode:10,secondDimensionMaxValue:11,firstDimensionMargin:12,autoPositionOnResize:13,avoidPageBreak:2,pageColumns:14,persistentStorage:3,autoBookmark:15,activeSettings:16},null,[-1,-1])}}function pt(t,e,i){const o=t.slice();return o[4]=e[i],o}function mt(t,e){let i,o,s,r=e[4].label+"",n,l,u,f,w,c,d;o=new Ne({props:{class:"mb-1",icon:e[4].icon}}),u=new dt({});function $(){return e[3](e[4])}return{key:t,first:null,c(){i=U("button"),T(o.$$.fragment),s=L(),n=re(r),l=L(),T(u.$$.fragment),f=L(),this.h()},l(v){i=H(v,"BUTTON",{class:!0});var V=X(i);D(o.$$.fragment,V),s=A(V),n=ue(V,r),l=A(V),D(u.$$.fragment,V),f=A(V),V.forEach(b),this.h()},h(){S(i,"class","flex grow flex-col items-center justify-center text-xs"),ie(i,"bg-gray-900",e[0]===e[4].label),ie(i,"hover:bg-gray-900",e[0]!==e[4].label),this.first=i},m(v,V){P(v,i,V),B(o,i,null),y(i,s),y(i,n),y(i,l),B(u,i,null),y(i,f),w=!0,c||(d=le(i,"click",$),c=!0)},p(v,V){e=v,(!w||V&5)&&ie(i,"bg-gray-900",e[0]===e[4].label),(!w||V&5)&&ie(i,"hover:bg-gray-900",e[0]!==e[4].label)},i(v){w||(O(o.$$.fragment,v),O(u.$$.fragment,v),w=!0)},o(v){I(o.$$.fragment,v),I(u.$$.fragment,v),w=!1},d(v){v&&b(i),z(o),z(u),c=!1,d()}}}function In(t){let e,i,o,s=[],r=new Map,n,l,u,f=t[2];const w=c=>c[4].label;for(let c=0;c<f.length;c+=1){let d=pt(t,f,c),$=w(d);r.set($,s[c]=mt($,d))}return l=new Bt({props:{leavePageLink:t[1]}}),{c(){e=U("div"),i=U("div"),o=U("div");for(let c=0;c<s.length;c+=1)s[c].c();n=L(),T(l.$$.fragment),this.h()},l(c){e=H(c,"DIV",{class:!0});var d=X(e);i=H(d,"DIV",{class:!0});var $=X(i);o=H($,"DIV",{class:!0});var v=X(o);for(let V=0;V<s.length;V+=1)s[V].l(v);v.forEach(b),n=A($),D(l.$$.fragment,$),$.forEach(b),d.forEach(b),this.h()},h(){S(o,"class","h12 flex grow justify-evenly xl:h-10"),S(i,"class",ct+" flex px-0 md:px-5"),S(e,"class",St)},m(c,d){P(c,e,d),y(e,i),y(i,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);y(i,n),B(l,i,null),u=!0},p(c,[d]){d&5&&(f=c[2],De(),s=wt(s,d,w,1,c,f,r,o,Ot,mt,null,pt),Be());const $={};d&2&&($.leavePageLink=c[1]),l.$set($)},i(c){if(!u){for(let d=0;d<f.length;d+=1)O(s[d]);O(l.$$.fragment,c),u=!0}},o(c){for(let d=0;d<s.length;d+=1)I(s[d]);I(l.$$.fragment,c),u=!1},d(c){c&&b(e);for(let d=0;d<s.length;d+=1)s[d].d();z(l)}}}function Sn(t,e,i){let{leavePageLink:o}=e,{activeSettings:s}=e;const r=[{label:"Reader",icon:zt},{label:"Data",icon:Rt}],n=l=>i(0,s=l.label);return t.$$set=l=>{"leavePageLink"in l&&i(1,o=l.leavePageLink),"activeSettings"in l&&i(0,s=l.activeSettings)},[s,o,r,n]}class Vn extends Se{constructor(e){super(),Ve(this,e,Sn,In,Me,{leavePageLink:1,activeSettings:0})}}function Mn(t){let e,i,o,s,r,n,l,u,f,w,c,d,$,v,V,M,k,h,F,R,j,q,se,Z,ne,Q,W=(t[18]??"")+"",x,Y;document.title=e=je("Settings");function _e(g){t[21](g)}let te={leavePageLink:t[0]};t[1]!==void 0&&(te.activeSettings=t[1]),s=new Vn({props:te}),G.push(()=>C(s,"activeSettings",_e,t[1]));function de(g){t[22](g)}function a(g){t[23](g)}function _(g){t[24](g)}function ce(g){t[25](g)}function he(g){t[26](g)}function be(g){t[27](g)}function $e(g){t[28](g)}function ge(g){t[29](g)}function pe(g){t[30](g)}function ve(g){t[31](g)}function ke(g){t[32](g)}function p(g){t[33](g)}function ae(g){t[34](g)}function Fe(g){t[35](g)}function we(g){t[36](g)}function Oe(g){t[37](g)}let m={activeSettings:t[1]};return t[2]!==void 0&&(m.selectedTheme=t[2]),t[3]!==void 0&&(m.fontSize=t[3]),t[4]!==void 0&&(m.fontFamilyGroupOne=t[4]),t[5]!==void 0&&(m.fontFamilyGroupTwo=t[5]),t[6]!==void 0&&(m.blurImage=t[6]),t[7]!==void 0&&(m.hideFurigana=t[7]),t[8]!==void 0&&(m.furiganaStyle=t[8]),t[9]!==void 0&&(m.writingMode=t[9]),t[10]!==void 0&&(m.viewMode=t[10]),t[11]!==void 0&&(m.secondDimensionMaxValue=t[11]),t[12]!==void 0&&(m.firstDimensionMargin=t[12]),t[13]!==void 0&&(m.autoPositionOnResize=t[13]),t[14]!==void 0&&(m.avoidPageBreak=t[14]),t[15]!==void 0&&(m.pageColumns=t[15]),t[16]!==void 0&&(m.persistentStorage=t[16]),t[17]!==void 0&&(m.autoBookmark=t[17]),f=new On({props:m}),G.push(()=>C(f,"selectedTheme",de,t[2])),G.push(()=>C(f,"fontSize",a,t[3])),G.push(()=>C(f,"fontFamilyGroupOne",_,t[4])),G.push(()=>C(f,"fontFamilyGroupTwo",ce,t[5])),G.push(()=>C(f,"blurImage",he,t[6])),G.push(()=>C(f,"hideFurigana",be,t[7])),G.push(()=>C(f,"furiganaStyle",$e,t[8])),G.push(()=>C(f,"writingMode",ge,t[9])),G.push(()=>C(f,"viewMode",pe,t[10])),G.push(()=>C(f,"secondDimensionMaxValue",ve,t[11])),G.push(()=>C(f,"firstDimensionMargin",ke,t[12])),G.push(()=>C(f,"autoPositionOnResize",p,t[13])),G.push(()=>C(f,"avoidPageBreak",ae,t[14])),G.push(()=>C(f,"pageColumns",Fe,t[15])),G.push(()=>C(f,"persistentStorage",we,t[16])),G.push(()=>C(f,"autoBookmark",Oe,t[17])),{c(){i=L(),o=U("div"),T(s.$$.fragment),n=L(),l=U("div"),u=U("div"),T(f.$$.fragment),Q=L(),x=re(W),this.h()},l(g){It("svelte-1mss3mt",document.head).forEach(b),i=A(g),o=H(g,"DIV",{class:!0});var Pe=X(o);D(s.$$.fragment,Pe),Pe.forEach(b),n=A(g),l=H(g,"DIV",{class:!0});var J=X(l);u=H(J,"DIV",{class:!0});var ye=X(u);D(f.$$.fragment,ye),ye.forEach(b),J.forEach(b),Q=A(g),x=ue(g,W),this.h()},h(){S(o,"class","elevation-4 fixed inset-x-0 top-0 z-10"),S(u,"class","max-w-5xl"),S(l,"class",ct+" h-full pt-16 xl:pt-14")},m(g,N){P(g,i,N),P(g,o,N),B(s,o,null),P(g,n,N),P(g,l,N),y(l,u),B(f,u,null),P(g,Q,N),P(g,x,N),Y=!0},p(g,N){(!Y||N&0)&&e!==(e=je("Settings"))&&(document.title=e);const Pe={};N[0]&1&&(Pe.leavePageLink=g[0]),!r&&N[0]&2&&(r=!0,Pe.activeSettings=g[1],E(()=>r=!1)),s.$set(Pe);const J={};N[0]&2&&(J.activeSettings=g[1]),!w&&N[0]&4&&(w=!0,J.selectedTheme=g[2],E(()=>w=!1)),!c&&N[0]&8&&(c=!0,J.fontSize=g[3],E(()=>c=!1)),!d&&N[0]&16&&(d=!0,J.fontFamilyGroupOne=g[4],E(()=>d=!1)),!$&&N[0]&32&&($=!0,J.fontFamilyGroupTwo=g[5],E(()=>$=!1)),!v&&N[0]&64&&(v=!0,J.blurImage=g[6],E(()=>v=!1)),!V&&N[0]&128&&(V=!0,J.hideFurigana=g[7],E(()=>V=!1)),!M&&N[0]&256&&(M=!0,J.furiganaStyle=g[8],E(()=>M=!1)),!k&&N[0]&512&&(k=!0,J.writingMode=g[9],E(()=>k=!1)),!h&&N[0]&1024&&(h=!0,J.viewMode=g[10],E(()=>h=!1)),!F&&N[0]&2048&&(F=!0,J.secondDimensionMaxValue=g[11],E(()=>F=!1)),!R&&N[0]&4096&&(R=!0,J.firstDimensionMargin=g[12],E(()=>R=!1)),!j&&N[0]&8192&&(j=!0,J.autoPositionOnResize=g[13],E(()=>j=!1)),!q&&N[0]&16384&&(q=!0,J.avoidPageBreak=g[14],E(()=>q=!1)),!se&&N[0]&32768&&(se=!0,J.pageColumns=g[15],E(()=>se=!1)),!Z&&N[0]&65536&&(Z=!0,J.persistentStorage=g[16],E(()=>Z=!1)),!ne&&N[0]&131072&&(ne=!0,J.autoBookmark=g[17],E(()=>ne=!1)),f.$set(J),(!Y||N[0]&262144)&&W!==(W=(g[18]??"")+"")&&Ie(x,W)},i(g){Y||(O(s.$$.fragment,g),O(f.$$.fragment,g),Y=!0)},o(g){I(s.$$.fragment,g),I(f.$$.fragment,g),Y=!1},d(g){g&&b(i),g&&b(o),z(s),g&&b(n),g&&b(l),z(f),g&&b(Q),g&&b(x)}}}function Fn(t,e,i){let o,s,r,n,l,u,f,w,c,d,$,v,V,M,k,h,F;K(t,We,p=>i(2,o=p)),K(t,qe,p=>i(3,s=p)),K(t,Qe,p=>i(4,r=p)),K(t,Je,p=>i(5,n=p)),K(t,Xe,p=>i(6,l=p)),K(t,Ye,p=>i(7,u=p)),K(t,Ze,p=>i(8,f=p)),K(t,Ke,p=>i(9,w=p)),K(t,xe,p=>i(10,c=p)),K(t,et,p=>i(11,d=p)),K(t,tt,p=>i(12,$=p)),K(t,nt,p=>i(13,v=p)),K(t,it,p=>i(14,V=p)),K(t,ot,p=>i(15,M=p)),K(t,st,p=>i(17,h=p));const R=Gt(!1);K(t,R,p=>i(16,k=p));let j=!1;_t(()=>{lt.persisted().then(ne)});let q="/manage",se="Reader";Vt(p=>{const{from:ae}=p;!ae||i(0,q=`${ae.url.pathname}${ae.url.search}`)});const Z=R.pipe(Mt(p=>{if(!!j){if(!p){ne(!0);return}lt.persist().then(ne)}}),Pt());K(t,Z,p=>i(18,F=p));function ne(p){j=!1,R.next(p),j=!0}function Q(p){se=p,i(1,se)}function W(p){o=p,We.set(o)}function x(p){s=p,qe.set(s)}function Y(p){r=p,Qe.set(r)}function _e(p){n=p,Je.set(n)}function te(p){l=p,Xe.set(l)}function de(p){u=p,Ye.set(u)}function a(p){f=p,Ze.set(f)}function _(p){w=p,Ke.set(w)}function ce(p){c=p,xe.set(c)}function he(p){d=p,et.set(d)}function be(p){$=p,tt.set($)}function $e(p){v=p,nt.set(v)}function ge(p){V=p,it.set(V)}function pe(p){M=p,ot.set(M)}function ve(p){k=p,R.set(k)}function ke(p){h=p,st.set(h)}return[q,se,o,s,r,n,l,u,f,w,c,d,$,v,V,M,k,h,F,R,Z,Q,W,x,Y,_e,te,de,a,_,ce,he,be,$e,ge,pe,ve,ke]}class Gn extends Se{constructor(e){super(),Ve(this,e,Fn,Mn,Me,{},null,[-1,-1])}}export{Gn as default};
